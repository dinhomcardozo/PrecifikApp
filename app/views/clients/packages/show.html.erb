<main class="index-container">
  <% content_for :title, "Detalhes da Embalagem" %>

  <h1>Detalhes da Embalagem</h1>

    <div class="detailed-box">
      <div>
        <p class="detailed-text">
          <strong>ATENÇÃO!</strong> Edite isso com cuidado. Outras porções de produtos podem depender desta Embalagem.
        </p>
        <p class="dependent-item-count">
          <%= "Você tem #{pluralize(@product_portions_count, 'Porção de Produto')}" %> utilizando esta embalagem.
          <a href="#" data-bs-toggle="modal" data-bs-target="#packageAssocModal">
            Clique aqui e veja a lista.
          </a>
        </p>

        <div>
          <%= render "package_dependent_items_modal", product_portions: @product_portions %>
        </div>
      </div>
    </div>

  <table class="index-table index-table--bordered">
    <tr>
      <th class="custom-label" >Descrição</th>
      <td><%= @package.description %></td>
    </tr>
    <tr>
      <th class="custom-label" >Fornecedor</th>
      <td><%= @package.supplier&.name %></td>
    </tr>
    <tr>
      <th class="custom-label" >Preço Unitário</th>
      <td><%= number_to_currency(@package.unit_price, unit: "R$", separator: ",", delimiter: ".") %></td>
    </tr>
  </table>

  <div>
    <%= link_to "Editar", edit_package_path(@package), class: "action-button" %>
    <%= link_to "Voltar", packages_path, class: "action-button" %>
    <%= button_to "Excluir", @package, method: :delete, data: { confirm: "Tem certeza?" }, class: "action-button" %>
  </div>
</main>