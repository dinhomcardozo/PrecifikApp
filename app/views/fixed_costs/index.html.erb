<h1>Custos Fixos</h1>

<%= link_to "Novo Custo Fixo", new_fixed_cost_path, class: "standart-button" %>

<table class="table">
  <thead>
    <tr>
      <th>Descrição</th>
      <th>Mensal (R$)</th>
      <th>Tipo</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @fixed_costs.each do |fc| %>
      <tr>
        <td><%= fc.description %></td>
        <td><%= number_to_currency(fc.monthly_cost, unit: "R$ ") %></td>
        <td><%= fc.fixed_cost_type %></td>
        <td><%= link_to "Mostrar", fc, class: "action-button" %></td>
        <td><%= link_to "Editar",   edit_fixed_cost_path(fc), class: "action-button" %></td>
        <td><%= link_to "Apagar",   fc,
                        method: :delete,
                        data: { confirm: "Tem certeza?" },
                        class: "action-button" %></td>
      </tr>
    <% end %>
  </tbody>

  <tfoot>
    <tr>
      <th>Total</th>
      <th>
        <%= number_to_currency(
              @fixed_costs.sum(&:monthly_cost),
              unit: "R$ "
            ) %>
      </th>
      <th colspan="4"></th>
    </tr>
  </tfoot>
</table>